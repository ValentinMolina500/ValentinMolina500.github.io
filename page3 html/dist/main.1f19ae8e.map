{"version":3,"sources":["main.js"],"names":["nodes","document","querySelectorAll","canvas","ctx","getContext","secondCanvas","length","ctx2","font","mainSquare","myEnemies","distancesX","distances","sqSpeed","mainSquareImage","getElementById","enemyImage","buttonImage","enemyUpImage","speedUpImage","myUpBtn","myDownBtn","myLeftBtn","myRightBtn","rightPressed","leftPressed","upPressed","downPressed","startGame","component","width","height","myGameArea","start","sound","src","createElement","setAttribute","style","display","body","appendChild","play","pause","score","frameNo","interval","setInterval","updateGameArea","window","addEventListener","e","preventDefault","x","pageX","y","pageY","touches","keyCode","clear","clearRect","stop","clearInterval","scoreUpdate","fillText","image","speedX","speedY","drawImage","otherobj","myleft","myright","mytop","mybottom","otherleft","otherright","othertop","otherbottom","crash","clicked","everyInterval","Math","floor","random","push","i","splice","collision","update","newPos","n","onload"],"mappings":"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","file":"main.1f19ae8e.map","sourceRoot":"..","sourcesContent":["var nodes = document.querySelectorAll(\"canvas\");\r\nvar canvas = nodes[0];\r\nvar ctx = canvas.getContext('2d');\r\nvar secondCanvas = nodes[nodes.length - 1];\r\nvar ctx2 = secondCanvas.getContext('2d');\r\nctx2.font = \"30px Comic Sans MS\"\r\n// initial variables\r\nvar mainSquare;\r\nvar myEnemies = [];\r\n//var myEnemiesUp = [];\r\nconst distancesX = [480, 450, 420, 390, 360, 330, 300, 270, 240, 210, 180, 150,\r\n    120, 90, 60, 30]\r\nconst distances = [295, 265, 235, 205, 175, 145, 115, 85, 55, 25];\r\nvar sqSpeed = 0;\r\n\r\n// images\r\nconst mainSquareImage = document.getElementById(\"source\");\r\nconst enemyImage = document.getElementById(\"enemy\");\r\nconst buttonImage = document.getElementById(\"button\");\r\nconst enemyUpImage = document.getElementById(\"enemyUp\");\r\nconst speedUpImage = document.getElementById(\"speedUp\");\r\n\r\nvar myUpBtn;\r\nvar myDownBtn;\r\nvar myLeftBtn;\r\nvar myRightBtn;\r\nvar rightPressed = false;\r\nvar leftPressed = false;\r\nvar upPressed = false;\r\nvar downPressed = false;\r\n\r\nfunction startGame() {\r\n    mainSquare = new component(32, 32, canvas.width/2,\r\n        canvas.height/2, mainSquareImage);\r\n    myUpBtn = new component(32, 32, 380, 210, buttonImage);\r\n    myDownBtn = new component(32, 32, 380, 270, buttonImage);\r\n    myLeftBtn = new component(32, 32, 350, 240, buttonImage);\r\n    myRightBtn = new component(32, 32, 410, 240, buttonImage);\r\n    myGameArea.start();\r\n}\r\n\r\nclass sound {\r\n    constructor(src) {\r\n        this.sound = document.createElement(\"audio\");\r\n        this.sound.src = src;\r\n        this.sound.setAttribute(\"preload\", \"auto\");\r\n        this.sound.setAttribute(\"controls\", \"none\");\r\n        this.sound.style.display = \"none\";\r\n        document.body.appendChild(this.sound);\r\n    }\r\n    play() {\r\n        this.sound.play();\r\n    }\r\n    stop() {\r\n        this.sound.pause();\r\n    }\r\n}\r\nvar myGameArea = {\r\n    start: function() {\r\n        this.score = 0;\r\n        this.frameNo = 0;\r\n        this.interval = setInterval(updateGameArea, 20);\r\n        window.addEventListener('mousedown', function (e) {\r\n            e.preventDefault();\r\n            myGameArea.x = e.pageX;\r\n            myGameArea.y = e.pageY;\r\n        })\r\n        window.addEventListener('mouseup', function (e) {\r\n            e.preventDefault();\r\n            myGameArea.x = false;\r\n            myGameArea.y = false;\r\n        })\r\n        window.addEventListener('touchstart', function (e) {\r\n            e.preventDefault();\r\n            myGameArea.x = e.pageX;\r\n            myGameArea.y = e.pageY;\r\n            myGameArea.x = e.touches[0].pageX;\r\n            myGameArea.y = e.touches[0].pageY;\r\n        })\r\n        window.addEventListener('touchend', function (e) {\r\n            myGameArea.x = false;\r\n            myGameArea.y = false;\r\n        })\r\n        window.addEventListener(\"touchmove\", function (e) {\r\n            e.preventDefault();\r\n            myGameArea.x = e.touches[0].pageX;\r\n            myGameArea.y = e.touches[0].pageY;\r\n        })\r\n        window.addEventListener(\"keydown\", e => {\r\n            if(e.keyCode == 68)\r\n                rightPressed = true;\r\n            else if(e.keyCode == 65)\r\n                leftPressed = true;\r\n            else if(e.keyCode == 87)\r\n                upPressed = true;\r\n            else if(e.keyCode == 83)\r\n                downPressed = true;\r\n        })\r\n        window.addEventListener(\"keyup\", e => {\r\n            if(e.keyCode == 68)\r\n                rightPressed = false;\r\n            else if(e.keyCode == 65)\r\n                leftPressed = false;\r\n            else if(e.keyCode == 87)\r\n                upPressed = false;\r\n            else if(e.keyCode == 83)\r\n                downPressed = false;\r\n        })\r\n        },\r\n    clear: function() {\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        ctx2.clearRect(0, 0, canvas.width, canvas.height);\r\n        },\r\n    stop: function() {\r\n        clearInterval(this.interval);\r\n    },\r\n    scoreUpdate: function() {\r\n        ctx.font = \"30px Comic Sans MS\";\r\n        ctx.fillText(\"score: \" + this.score, 330, 50);\r\n    }\r\n}\r\n\r\nclass component {\r\n    constructor(width, height, x, y, image) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.image = image;\r\n        this.speedX = 0;\r\n        this.speedY = 0;\r\n    }\r\n    update() {\r\n        ctx.drawImage(this.image, this.x, this.y);\r\n    }\r\n    newPos() {\r\n        this.x += this.speedX;\r\n        this.y += this.speedY;\r\n    }\r\n    collision(otherobj) {\r\n        var myleft = this.x;\r\n        var myright = this.x + (this.width);\r\n        var mytop = this.y;\r\n        var mybottom = this.y + (this.height);\r\n        var otherleft = otherobj.x;\r\n        var otherright = otherobj.x + (otherobj.width);\r\n        var othertop = otherobj.y;\r\n        var otherbottom = otherobj.y + (otherobj.height);\r\n        var crash = true;\r\n        if ((mybottom < othertop) || (mytop > otherbottom) || (myright < otherleft) || (myleft > otherright)) {\r\n            crash = false;\r\n        }\r\n        return crash;\r\n    }\r\n    clicked() {\r\n        var myleft = this.x;\r\n        var myright = this.x + (this.width);\r\n        var mytop = this.y;\r\n        var mybottom = this.y + (this.height);\r\n        var clicked = true;\r\n        if ((mybottom < myGameArea.y) || (mytop > myGameArea.y) ||\r\n            (myright < myGameArea.x) || (myleft > myGameArea.x)) {\r\n            clicked = false;\r\n        }\r\n        return clicked;\r\n    }\r\n}\r\n\r\nfunction updateGameArea() {\r\n    var x, y;\r\n    \r\n    // canvas on screen button implementation\r\n    if(myGameArea.x && myGameArea.y) {\r\n        if(myUpBtn.clicked()) {\r\n            mainSquare.y += -2;\r\n        }\r\n        if (myDownBtn.clicked()) {\r\n            mainSquare.y += 2;\r\n        }\r\n        if (myLeftBtn.clicked()) {\r\n            mainSquare.x += -2;\r\n        }\r\n        if (myRightBtn.clicked()) {\r\n            mainSquare.x += 2;\r\n        }\r\n    }\r\n\r\n    // WASD movement implementation\r\n    if(rightPressed && mainSquare.x + 3 < canvas.width - mainSquare.width) {\r\n        mainSquare.x += 3 + sqSpeed;\r\n    }\r\n    else if(leftPressed && mainSquare.x -3 > -3) {\r\n        mainSquare.x += -3 - sqSpeed;\r\n    }\r\n    else if(upPressed && mainSquare.y - 3 > -3) {\r\n        mainSquare.y += -3 - sqSpeed;\r\n    }\r\n    else if(downPressed && mainSquare.y + 3 < canvas.height - mainSquare.height + 3) {\r\n        mainSquare.y += 3 + sqSpeed;\r\n    }\r\n\r\n    // frame and clear\r\n    myGameArea.clear();\r\n    myGameArea.frameNo += 1;\r\n\r\n    // spawning horizontal mobs\r\n    if (myGameArea.frameNo == 1 || everyInterval(30)) {\r\n        x = canvas.width + 50;\r\n        y = distances[Math.floor(Math.random() * distances.length)];\r\n        myEnemies.push(new component(50, 25, x, y, enemyImage));\r\n    }\r\n\r\n    // spawning vertical mobs\r\n    if (everyInterval(30)) {\r\n        x = distancesX[Math.floor(Math.random() * distancesX.length)];\r\n        y = canvas.height + 50;\r\n        myEnemies.push(new component(25, 50, x, y, enemyUpImage));\r\n    }\r\n    // spawing powerups\r\n    if(everyInterval(550)) {\r\n        x = canvas.width + 50;\r\n        y = distances[Math.floor(Math.random() * distances.length)];\r\n        myEnemies.push(new component(16, 16, x, y, speedUpImage));\r\n    }\r\n    // updating score\r\n    if (everyInterval(45)) {\r\n        myGameArea.score++;\r\n    }\r\n    // updating movement for enemies\r\n    for (i = 0; i < myEnemies.length; i++)\r\n    {\r\n        if(myEnemies[i].x > canvas.width + 50 || (myEnemies[i].y < 0 - myEnemies[i].height &&\r\n            myEnemies[i].x > 0)) {\r\n            myEnemies.splice(i, 1);\r\n        }\r\n        if (mainSquare.collision(myEnemies[i])) {\r\n            if(myEnemies[i].width == 16) {\r\n                if(sqSpeed < 2) {\r\n                sqSpeed++;\r\n                }\r\n                myEnemies.splice(i, 1);\r\n            }\r\n            else {\r\n            myGameArea.stop();\r\n            }\r\n        }\r\n        if(myEnemies[i].width == 50 || myEnemies[i].width == 16) {\r\n            myEnemies[i].x += -3;\r\n            myEnemies[i].update();\r\n        }\r\n        if(myEnemies[i].width == 25) {\r\n            myEnemies[i].y += -3;\r\n            myEnemies[i].update();\r\n        }\r\n    }\r\n\r\n    // hero and button updates\r\n    /*myUpBtn.update();\r\n    myDownBtn.update();\r\n    myLeftBtn.update();\r\n    myRightBtn.update();*/\r\n    ctx2.fillText(\"Speed: \" +(sqSpeed + 3) + \"/5\", 0, secondCanvas.height/2);\r\n    mainSquare.newPos();\r\n    mainSquare.update();\r\n    myGameArea.scoreUpdate();\r\n}\r\n\r\n// logic\r\nfunction everyInterval(n) {\r\n    if((myGameArea.frameNo / n ) % 1 == 0)\r\n        return true;\r\n    return false;\r\n}\r\n\r\nwindow.onload = startGame();"]}